<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Business System</title>
    <link rel="stylesheet" href="styles.css">
    <!-- Import Firebase App and Database -->
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js"></script>
<script src="https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf/2.5.1/jspdf.umd.min.js"></script>
    <script src="https://unpkg.com/jspdf-autotable"></script>
    <script src="https://unpkg.com/jspdf@latest/dist/jspdf.umd.min.js"></script>
    <script src="https://cdnjs.cloudflare.com/ajax/libs/jspdf-autotable/3.5.23/jspdf.plugin.autotable.min.js"></script>
    
</head>
<body>

<script>
    // Import the functions you need from the SDKs you need
    import { initializeApp } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-app.js";
    import { getDatabase, ref, set, get, child } from "https://www.gstatic.com/firebasejs/9.6.1/firebase-database.js";

    // Your web app's Firebase configuration
    const firebaseConfig = {
  apiKey: "AIzaSyBr3UMkygb2GpEDfRX_lE3mv3c_v7FiU_4",
  authDomain: "budgetwise-4b34f.firebaseapp.com",
  databaseURL: "https://budgetwise-4b34f-default-rtdb.asia-southeast1.firebasedatabase.app",
  projectId: "budgetwise-4b34f",
  storageBucket: "budgetwise-4b34f.appspot.com",
  messagingSenderId: "134490215311",
  appId: "1:134490215311:web:d78f538dd5c9e8cc8ef1fa",
  measurementId: "G-0RSW9PSH90"
};

   // Initialize Firebase
        firebase.initializeApp(firebaseConfig);

        // Get a reference to the database
        const database = firebase.database();

        function writeData() {
            database.ref('test/').set({
                message: 'Hello from Firebase!'
            });
        }

        function readData() {
            database.ref('test/').once('value').then(snapshot => {
                alert(snapshot.val().message);
            });
        }
</script>

    <header>
        <img src="images/miilogo.PNG" alt="Company Logo" class="header-logo">
        <div class="header-text">
            <h1>MI & I Refrigeration and Airconditioning Services</h1>
        </div>
    </header>

    <div class="tabs">
        <button class="tablink" onclick="openTab('input')">Input Data</button>
        <button class="tablink" onclick="openTab('view')">View Data</button>
    </div>

    <div id="input" class="tabcontent">
        <form id="dataForm">
            <input type="hidden" id="editIndex">

            <div class="form-group">
                <label for="date">Date:</label>
                <input type="date" id="date">
            </div>

            <div class="form-group">
                <label for="name">Name:</label>
                <input type="text" id="name" oninput="showSuggestions('name')">
                <div id="nameSuggestions" class="suggestions"></div>
            </div>

            <div class="form-group">
                <label for="contact">Contact:</label>
                <input type="text" id="contact">
            </div>

            <div class="form-group">
                <label for="address">Address:</label>
                <input type="text" id="address">
            </div>

            <div class="form-group">
                <label for="brand">Brand:</label>
                <input type="text" id="brand" oninput="showSuggestions('brand')">
                <div id="brandSuggestions" class="suggestions"></div>
            </div>

            <div class="form-group">
                <label for="model">Model:</label>
                <input type="text" id="model">
            </div>

            <div class="form-group">
                <label for="serial">Serial:</label>
                <input type="text" id="serial">
            </div>

            <div class="form-group">
                <label for="purchaseDate">Purchase Date:</label>
                <input type="date" id="purchaseDate">
            </div>

            <div class="form-group">
                <label for="amount">Amount:</label>
                <input type="number" id="amount" step="0.01">
            </div>

            <div class="form-group">
                <label for="remarks">Remarks:</label>
                <textarea id="remarks"></textarea>
            </div>

            <button type="button" onclick="saveData()">Save Data</button>
        </form>
    </div>

    <div id="view" class="tabcontent">
        <h2>View Data</h2>
        <input type="text" id="search" onkeyup="filterData()" placeholder="Search...">
        <label for="sortBy">Sort by:</label>
        <select id="sortBy" onchange="sortTable()">
            <option value="">Select</option>
            <option value="date">Date</option>
            <option value="dateOfPurchase">Date of Purchase</option>
        </select>
        <button onclick="exportToPDF()">Export to PDF</button>
        <button id="toggleActions" onclick="toggleActions()">Show Actions</button>
        <div class="table-container">
            <table id="dataTable">
                <thead>
                    <tr>
                        <th>Date</th>
                        <th>Name</th>
                        <th>Contact Number</th>
                        <th>Address</th>
                        <th>Brand</th>
                        <th>Model</th>
                        <th>Serial Number</th>
                        <th>Date of Purchase</th>
                        <th>Amount</th>
                        <th>Remarks</th>
                        <th class="action-header">Actions</th>
                    </tr>
                </thead>
                <tbody>
                    <!-- Data rows will be dynamically inserted here -->
                </tbody>
            </table>
        </div>
    </div>

    <footer>
        <p>Budgetwise Free Installation</p>
    </footer>

    <script src="scripts.js"></script>
</body>
</html>
